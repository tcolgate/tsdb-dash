<link rel="import" href="../bower_components/polymer/polymer.html">
<link rel="import" href="../bower_components/polymer-ajax/polymer-ajax.html">
<link rel="import" href="dash-dtrange.html">
<link rel="import" href="dash-tsdb-plotset.html">
<link rel="import" href="dash-tsdb-plot.html">
<link rel="import" href="dash-spec.html">

<script src="dash-view-host.js"></script>
<polymer-element name="dash-view-host" attributes="host data">
  <template>
    <template if="{{ host == undefined }}">
      <H1>No host set!</h1>
    </template>
    <template if="{{ host != undefined }}">
      <H1>Host view: {{host}}</h1>
      <dash-dtrange start={{start_time}} end={{end_time}}></dash-dtrange>

      <dash-spec
          specName="net_bytes"
         globaltags="{{ tags }}"
               spec="{{ spec }}">
      </dash-spec>

      <template if="{{ spec != undefined }}">
        <dash-tsdb-plotset 
            width=600,
           height=300,
             spec={{spec}}
            start={{start_time}}
              end={{end_time}}
          results={{data}}>
        </dash-tsdb-plotset>

        <template if="{{ data != undefined }}">
          <template repeat="{{ d in data }}">
            <dash-tsdb-plot 
                spec={{spec}} 
                name={{d.name}}
                data={{d.data}}
               width=600,
              height=300>
            </dash-tsdb-plot>
          </template>
        </template>
      </template>
    </template>
  </template>
</polymer-element>
