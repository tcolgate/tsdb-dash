<link rel="import" href="../bower_components/polymer/polymer.html">
<link rel="import" href="../bower_components/core-ajax/core-ajax.html">
<link rel="import" href="dash-tsdb-query.html">

<script src="dash-tsdb-dataset.js"></script>
<polymer-element name="dash-tsdb-dataset" attributes="start end samples spec tags specData resultset">
  <template>
    <template if="{{ spec != undefined }}">
      <template repeat="{{ ds,i in specData.dss }}">
        <dash-tsdb-query 
             metric="{{ ds.metric }}" 
               tags="{{ ds.tags }}" 
               rate="{{ ds.rate }}"
           rateCtrl="{{ ds.rateCtrl }}"
               aggr="{{ ds.aggrOp }}"
               dsmp="{{ ds.dsmp }}"
                lag="{{ ds.lag }}"
              start="{{ start }}" 
                end="{{ end }}"
                dsi="{{ i }}"
    on-query-result="{{ gotDsResult }}">
        </dash-tsdb-query>
      <template>
  </template>
</polymer-element>

