<link rel="import" href="../bower_components/polymer/polymer.html">
<link rel="import" href="../bower_components/polymer-ajax/polymer-ajax.html">

<polymer-element name="dash-tree-branch">
  <template>
    <H1>TSDB Branch {{branch_id}}</h1>

    <polymer-ajax auto url="/api/tree/branch" 
      handleAs="json"
      on-polymer-response="{{gotBranches}}">
    </polymer-ajax>

    <template repeat="{{ branch in branches }}">
      <h2> Branch {{branch}} </h2>
    </template>
  </template>
  <script>
    Polymer('dash-tsdb-tree-branch', {
    branch_id: 0,
     branches: [],
       leaves: [],
  gotBranches: function(ev,resp){
                 this.branches = resp.response;
                 console.log(this.branches);
               },
        ready: function(){
               }
    });
  </script>
</polymer-element>
